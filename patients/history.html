<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SanteNet - Appointment History</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="stylesg.css"> <!-- Adjust path as needed -->
  <link rel="stylesheet" href="../../doctors/global.css"> <!-- Linking the external CSS -->
  <style>
.appointments-container table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1em;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.appointments-container th, .appointments-container td {
  border: 1px solid #e0e0e0;
  padding: 0.75em 1em;
  text-align: left;
  vertical-align: top;
}
.appointments-container th {
  background: #f5f5f5;
  font-weight: bold;
}
.appointments-container tr:nth-child(even) {
  background: #fafafa;
}
.history-action {
  font-weight: bold;
  color: #1976d2;
  text-transform: capitalize;
}
.history-details {
  font-family: "Fira Mono", "Consolas", monospace;
  font-size: 0.95em;
  white-space: pre-wrap;
  word-break: break-word;
  background: #f8f8f8;
  border-radius: 4px;
  padding: 0.5em;
}
</style>
</head>
<body>

  <!-- NAVBAR -->
  <!-- Placeholder for dynamically loading common content -->
  <div id="common-container"></div>

  <!-- BREADCRUMB -->
  <div class="breadcrumb">
    <a href="#">Home</a> &gt; <a href="#">Appointments</a> &gt; <span>History</span>
  </div>

  <!-- HEADER & TABS -->
  <div class="header">
    <h1>History</h1>
    <p>Review your past appointments, their outcomes, and details of treatments or diagnoses.</p>
    <div class="tabs">
      <button class="tab-button" data-tab="appointments">Appointments</button>
      <button class="tab-button" data-tab="consultation">Consultations</button>
      <button class="tab-button" data-tab="history">History</button>
      <button class="tab-button" data-tab="clinics">Clinics</button>
      <button class="tab-button" data-tab="plans">Plans</button>
      <button class="tab-button" data-tab="emergency">Emergency</button>
      <button class="tab-button" data-tab="reminders">Reminders</button>
    </div>
  </div>

  <!-- APPOINTMENT HISTORY TABLE -->
  <div class="appointments-container">
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Action</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody id="history-table-body"></tbody>
    </table>
  </div>

  <script src="/patients/script0.js"></script>
  <script src="../../doctors/common.js"></script>
  <script src="/patients/history.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      loadCommonHTML(() => {
        console.log('Common content loaded and initialized.');
        initializeCommonEventListeners();
        renderHistory(); // Call the function to load history from Supabase
      });
    });
  </script>
</body>
</html>
